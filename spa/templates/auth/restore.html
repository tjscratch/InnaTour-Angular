<form class="popup-form recover-password-form {{({'true': 'reg-form-result', 'false': ''})[showLanding]}}" ng-controller="AuthPwdRerstoreCtrl_A">
    <h3 class="popup-form-title">Восстановить пароль</h3>
    <div ng-show="!showLanding">
        <div class="popup-form-row">
            <label for="" class="popup-form-label">E-mail при регистрации</label>
            <input type="text" class="popup-form-field {{({'true': 'error', 'false': ''})[errors.email || requestFailure]}}" ng-model="email"/>
            <span class="message" ng-show="errors.email">Пожалуйста, введите действующий адрес электронно почты</span>
            <span class="message" ng-show="requestFailure">Пользователь с таким адресом электронной почты не обнаружен</span>
        </div>
        <div class="popup-form-row popup-form-row-submit">
            <button type="submit" class="button" ng-click="sendToken()">Отправить</button>
        </div>
        <ng:include src="'/spa/templates/auth/social.inc.html'"></ng:include>
    </div>
    <div ng-show="showLanding">
        <span class="icon-letter"></span>
        <p class="reg-form-result-text">
            <b class="reg-form-result-text-warning">Письмо успешно выслано</b><br>
            Проверьте свой электронный ящик {{email}}
        </p>
    </div>
</form>

<form class="popup-form recover-password-form" ng-controller="AuthPwdRerstoreCtrl_B" ng-show="restoreToken">
    <h3 class="popup-form-title">Новый пароль</h3>
    <div class="popup-form-row">
        <input type="password" class="popup-form-field" ng-model="password"/>
        <label for="" class="popup-form-label">И еще раз</label>
        <input type="password" class="popup-form-field" ng-model="password2"/>
        <span class="message" ng-show="errors.password2">Пароли не совпадают</span>
        <span class="message" ng-show="errors.password">Пароль не может быть пустым!</span>
        <span class="message" ng-show="errors.passwordMinLength">Минимальная длина пароля - 6 символов</span>
    </div>
    <div class="popup-form-row popup-form-row-submit">
        <button type="submit" class="button" ng-click="setNewPassword()">Отправить</button>
    </div>
    <div ng-show="requestFailed">
        Что-то пошло не так... Попробуйте начать процедуру восстановления пароля сначала.
    </div>
    <div ng-show="success">
        Новый пароль успешно установлен. Через несколько секунд вы будете перенаправлены на главную страницу.
    </div>
</form>


<!--
<div class="b-auth-block__section">
    <div ng-show="showLanding">
        Вам все выслано на почту, ляляля
    </div>
</div>
-->